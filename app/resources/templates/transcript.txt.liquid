Source: {{d.data.journalist_designation }}
Last Updated: {{ d.data.last_updated | date: "%Y-%m-%d %H:%M %z" }}
{% if d.items.size <= 0 %}
No messages.
{% else %}
Transcript:
-----------{% for item in d.items %}{% case item.data.kind %}{% when "message" %}
Source wrote:
{{ item.plaintext }}
{% when "reply" %}
{{ item.data.journalist_uuid | getJournalistName }} replied:
{% if not item.plaintext %}[Message is encrypted...]{% else %}{{ item.plaintext }}{% endif %}
{% when "file" %}
Source uploaded file: {% if not item.filename %}[encrypted file]{% else %}{{ item.filename | split: "/" | last}}{% endif %}
{% else %}
unknown item type: text is "{{ item.plaintext }}"{% endcase %}{% endfor %}{% endif %}

