SPECIFICATION Spec
INVARIANTS
    PoolTypeOK
    QueueTypeOK
PROPERTIES
    PoolLiveness
    QueueLiveness
CONSTANTS
    \* JOB_RETRIES: How many times should API jobs be retried?  0 for na√Øve API
    \* calls without retries; 2 for 3 total attempts; etc.
    JOB_RETRIES = 0

    \* {In,Out}Replies: Sets of the (zero-indexed, consecutive, natural-number)
    \* primary keys of Reply objects "incoming" (someone else sent; we're
    \* downloading) and  "outgoing" (we're sending), respectively.  (The two
    \* sets MUST be disjoint: the case where a failed outgoing reply is
    \* "recovered" by downloading a subsequent "incoming" reply emerges in
    \* the model.)
    InReplies = {0}
    OutReplies = {1}

    \* For{Local,Remote}Deletion: Sets of the (zero-indexed, natural-number)
    \* primary keys of replies subject to local and/or remote deletion,
    \* respectively.  (The two sets MAY intersect: the model covers cases
    \* in which local and remote deletion race.)
    ForLocalDeletion = {}
    ForRemoteDeletion = {}